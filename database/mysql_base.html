<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/love.jpg"><link rel="manifest" href="/images/love.jpg"><link rel="apple-touch-icon" href="/images/love.jpg"><meta http-quiv="pragma" cotent="no-cache"><meta http-quiv="pragma" cotent="no-cache,must-revalidate"><meta http-quiv="expires" cotent="0"><title>Mysql基础 | 小头知识库</title><meta name="description" content="本库是个人学习的时候记录的笔记 对 Java 的一些基础知识、数据库知识、以及框架知识进行收集、整理（持续更新中）">
    <link rel="preload" href="/assets/style-fae0be7d.css" as="style"><link rel="stylesheet" href="/assets/style-fae0be7d.css">
    <link rel="modulepreload" href="/assets/app-97ed9e93.js"><link rel="modulepreload" href="/assets/framework-96b046e1.js"><link rel="modulepreload" href="/assets/mysql_base.html-c6ab0552.js"><link rel="modulepreload" href="/assets/mysql_base.html-76d5b36b.js"><link rel="prefetch" href="/assets/index.html-0ce61fa9.js" as="script"><link rel="prefetch" href="/assets/mysql_advance.html-d6219995.js" as="script"><link rel="prefetch" href="/assets/mysql_high.html-55072139.js" as="script"><link rel="prefetch" href="/assets/interview.html-97c85ece.js" as="script"><link rel="prefetch" href="/assets/mongodb.html-0d0744b9.js" as="script"><link rel="prefetch" href="/assets/optimization.html-f016fef6.js" as="script"><link rel="prefetch" href="/assets/redis.html-6a25c044.js" as="script"><link rel="prefetch" href="/assets/java_juc.html-50bf328a.js" as="script"><link rel="prefetch" href="/assets/java_jvm.html-d0967276.js" as="script"><link rel="prefetch" href="/assets/java_jvm_optimize.html-dd24d727.js" as="script"><link rel="prefetch" href="/assets/java_thread.html-3b0a9e41.js" as="script"><link rel="prefetch" href="/assets/java_thread_pool.html-75a567a4.js" as="script"><link rel="prefetch" href="/assets/java_base.html-056f7ff5.js" as="script"><link rel="prefetch" href="/assets/java_exception.html-9993d94e.js" as="script"><link rel="prefetch" href="/assets/java_Io.html-e3db5f8a.js" as="script"><link rel="prefetch" href="/assets/java_list.html-31f4b5fd.js" as="script"><link rel="prefetch" href="/assets/java_new8.html-6dd646ec.js" as="script"><link rel="prefetch" href="/assets/java_object.html-a7de2f70.js" as="script"><link rel="prefetch" href="/assets/java_reflect.html-08c2a157.js" as="script"><link rel="prefetch" href="/assets/java_simple.html-c32db0db.js" as="script"><link rel="prefetch" href="/assets/java_web.html-d7f68a67.js" as="script"><link rel="prefetch" href="/assets/java_jsp.html-64f622e2.js" as="script"><link rel="prefetch" href="/assets/java_servlet.html-9dd1dd2c.js" as="script"><link rel="prefetch" href="/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/assets/index.html-9c30ae09.js" as="script"><link rel="prefetch" href="/assets/mysql_advance.html-36744e2f.js" as="script"><link rel="prefetch" href="/assets/mysql_high.html-6bf4bb7d.js" as="script"><link rel="prefetch" href="/assets/interview.html-44bef611.js" as="script"><link rel="prefetch" href="/assets/mongodb.html-9ce18145.js" as="script"><link rel="prefetch" href="/assets/optimization.html-029c0d29.js" as="script"><link rel="prefetch" href="/assets/redis.html-365e35d9.js" as="script"><link rel="prefetch" href="/assets/java_juc.html-c4967054.js" as="script"><link rel="prefetch" href="/assets/java_jvm.html-b46b586e.js" as="script"><link rel="prefetch" href="/assets/java_jvm_optimize.html-19e3c625.js" as="script"><link rel="prefetch" href="/assets/java_thread.html-87791478.js" as="script"><link rel="prefetch" href="/assets/java_thread_pool.html-dd60e235.js" as="script"><link rel="prefetch" href="/assets/java_base.html-d4efbd6b.js" as="script"><link rel="prefetch" href="/assets/java_exception.html-e16104bf.js" as="script"><link rel="prefetch" href="/assets/java_Io.html-16a286bf.js" as="script"><link rel="prefetch" href="/assets/java_list.html-761af11d.js" as="script"><link rel="prefetch" href="/assets/java_new8.html-a1e1909b.js" as="script"><link rel="prefetch" href="/assets/java_object.html-653740ef.js" as="script"><link rel="prefetch" href="/assets/java_reflect.html-d428cb40.js" as="script"><link rel="prefetch" href="/assets/java_simple.html-f3780249.js" as="script"><link rel="prefetch" href="/assets/java_web.html-bbbc7d6b.js" as="script"><link rel="prefetch" href="/assets/java_jsp.html-ff5b2ce7.js" as="script"><link rel="prefetch" href="/assets/java_servlet.html-22952a3e.js" as="script"><link rel="prefetch" href="/assets/404.html-46166703.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">小头知识库</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Java基础知识</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/Java/base/java_base.html" class="" aria-label="Java基础知识"><!--[--><!--]--> Java基础知识 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Java/base/java_list.html" class="" aria-label="集合框架"><!--[--><!--]--> 集合框架 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Java/base/java_Io.html" class="" aria-label="Java IO"><!--[--><!--]--> Java IO <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Java/base/java_web.html" class="" aria-label="Java 网络编程"><!--[--><!--]--> Java 网络编程 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Java进阶知识</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/Java/progress/java_jvm.html" class="" aria-label="JVM"><!--[--><!--]--> JVM <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Java/progress/java_jvm_optimize.html" class="" aria-label="JVM调优"><!--[--><!--]--> JVM调优 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Java/progress/java_thread.html" class="" aria-label="并发编程"><!--[--><!--]--> 并发编程 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Java/progress/java_juc.html" class="" aria-label="JUC"><!--[--><!--]--> JUC <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Mysql</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a aria-current="page" href="/database/mysql_base.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Mysql基础"><!--[--><!--]--> Mysql基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/database/mysql_high.html" class="" aria-label="Mysql高级"><!--[--><!--]--> Mysql高级 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/database/mysql_advance.html" class="" aria-label="Mysql进阶"><!--[--><!--]--> Mysql进阶 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Redis</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/redis/redis.html" class="" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>MongoDB</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mongodb/mongodb.html" class="" aria-label="MongoDB"><!--[--><!--]--> MongoDB <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/others/" class="" aria-label="框架"><!--[--><!--]--> 框架 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/algorithm/" class="" aria-label="工具 "><!--[--><!--]--> 工具  <!--[--><!--]--></a></div><div class="navbar-item"><a href="/algorithm/" class="" aria-label="部署"><!--[--><!--]--> 部署 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/others/" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/others/" class="" aria-label="开发"><!--[--><!--]--> 开发 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/accumulate/" class="" aria-label="面试"><!--[--><!--]--> 面试 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/optimization/optimization.md/" class="" aria-label="项目优化"><!--[--><!--]--> 项目优化 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Java基础知识</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/Java/base/java_base.html" class="" aria-label="Java基础知识"><!--[--><!--]--> Java基础知识 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Java/base/java_list.html" class="" aria-label="集合框架"><!--[--><!--]--> 集合框架 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Java/base/java_Io.html" class="" aria-label="Java IO"><!--[--><!--]--> Java IO <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Java/base/java_web.html" class="" aria-label="Java 网络编程"><!--[--><!--]--> Java 网络编程 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Java进阶知识</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/Java/progress/java_jvm.html" class="" aria-label="JVM"><!--[--><!--]--> JVM <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Java/progress/java_jvm_optimize.html" class="" aria-label="JVM调优"><!--[--><!--]--> JVM调优 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Java/progress/java_thread.html" class="" aria-label="并发编程"><!--[--><!--]--> 并发编程 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/Java/progress/java_juc.html" class="" aria-label="JUC"><!--[--><!--]--> JUC <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Mysql</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a aria-current="page" href="/database/mysql_base.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Mysql基础"><!--[--><!--]--> Mysql基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/database/mysql_high.html" class="" aria-label="Mysql高级"><!--[--><!--]--> Mysql高级 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/database/mysql_advance.html" class="" aria-label="Mysql进阶"><!--[--><!--]--> Mysql进阶 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Redis</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/redis/redis.html" class="" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>MongoDB</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mongodb/mongodb.html" class="" aria-label="MongoDB"><!--[--><!--]--> MongoDB <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/others/" class="" aria-label="框架"><!--[--><!--]--> 框架 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/algorithm/" class="" aria-label="工具 "><!--[--><!--]--> 工具  <!--[--><!--]--></a></div><div class="navbar-item"><a href="/algorithm/" class="" aria-label="部署"><!--[--><!--]--> 部署 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/others/" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/others/" class="" aria-label="开发"><!--[--><!--]--> 开发 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/accumulate/" class="" aria-label="面试"><!--[--><!--]--> 面试 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/optimization/optimization.md/" class="" aria-label="项目优化"><!--[--><!--]--> 项目优化 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">Mysql <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/database/mysql_base.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Mysql基础"><!--[--><!--]--> Mysql基础 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/database/mysql_base.html#关系型数据库" class="router-link-active router-link-exact-active sidebar-item" aria-label="关系型数据库"><!--[--><!--]--> 关系型数据库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#sql" class="router-link-active router-link-exact-active sidebar-item" aria-label="SQL"><!--[--><!--]--> SQL <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/database/mysql_base.html#sql简介" class="router-link-active router-link-exact-active sidebar-item" aria-label="SQL简介"><!--[--><!--]--> SQL简介 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#通用语法" class="router-link-active router-link-exact-active sidebar-item" aria-label="通用语法"><!--[--><!--]--> 通用语法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#sql分类" class="router-link-active router-link-exact-active sidebar-item" aria-label="SQL分类"><!--[--><!--]--> SQL分类 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/database/mysql_base.html#ddl" class="router-link-active router-link-exact-active sidebar-item" aria-label="DDL"><!--[--><!--]--> DDL <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/database/mysql_base.html#查询所有的数据库" class="router-link-active router-link-exact-active sidebar-item" aria-label="查询所有的数据库"><!--[--><!--]--> 查询所有的数据库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#创建数据库" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建数据库"><!--[--><!--]--> 创建数据库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#删除数据库" class="router-link-active router-link-exact-active sidebar-item" aria-label="删除数据库"><!--[--><!--]--> 删除数据库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#使用数据库" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用数据库"><!--[--><!--]--> 使用数据库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#查看当前使用的数据库" class="router-link-active router-link-exact-active sidebar-item" aria-label="查看当前使用的数据库"><!--[--><!--]--> 查看当前使用的数据库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#查询当前数据库下所有表名称" class="router-link-active router-link-exact-active sidebar-item" aria-label="查询当前数据库下所有表名称"><!--[--><!--]--> 查询当前数据库下所有表名称 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#查询表结构" class="router-link-active router-link-exact-active sidebar-item" aria-label="查询表结构"><!--[--><!--]--> 查询表结构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#创建表" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建表"><!--[--><!--]--> 创建表 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#数据类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="数据类型"><!--[--><!--]--> 数据类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#删除表" class="router-link-active router-link-exact-active sidebar-item" aria-label="删除表"><!--[--><!--]--> 删除表 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#修改表名" class="router-link-active router-link-exact-active sidebar-item" aria-label="修改表名"><!--[--><!--]--> 修改表名 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#添加一列" class="router-link-active router-link-exact-active sidebar-item" aria-label="添加一列"><!--[--><!--]--> 添加一列 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#修改数据类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="修改数据类型"><!--[--><!--]--> 修改数据类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#修改列名和数据类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="修改列名和数据类型"><!--[--><!--]--> 修改列名和数据类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#删除列" class="router-link-active router-link-exact-active sidebar-item" aria-label="删除列"><!--[--><!--]--> 删除列 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/database/mysql_base.html#dml" class="router-link-active router-link-exact-active sidebar-item" aria-label="DML"><!--[--><!--]--> DML <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/database/mysql_base.html#给指定列添加数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="给指定列添加数据"><!--[--><!--]--> 给指定列添加数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#给全部列添加数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="给全部列添加数据"><!--[--><!--]--> 给全部列添加数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#批量添加数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="批量添加数据"><!--[--><!--]--> 批量添加数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#修改表数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="修改表数据"><!--[--><!--]--> 修改表数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#删除数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="删除数据"><!--[--><!--]--> 删除数据 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/database/mysql_base.html#dql" class="router-link-active router-link-exact-active sidebar-item" aria-label="DQL"><!--[--><!--]--> DQL <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/database/mysql_base.html#查询多个字段" class="router-link-active router-link-exact-active sidebar-item" aria-label="查询多个字段"><!--[--><!--]--> 查询多个字段 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#去除重复记录" class="router-link-active router-link-exact-active sidebar-item" aria-label="去除重复记录"><!--[--><!--]--> 去除重复记录 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#起别名" class="router-link-active router-link-exact-active sidebar-item" aria-label="起别名"><!--[--><!--]--> 起别名 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#条件查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="条件查询"><!--[--><!--]--> 条件查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#模糊查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="模糊查询"><!--[--><!--]--> 模糊查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#排序查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="排序查询"><!--[--><!--]--> 排序查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#聚合函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="聚合函数"><!--[--><!--]--> 聚合函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#分组查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="分组查询"><!--[--><!--]--> 分组查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#where-和-having-区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="where 和 having 区别"><!--[--><!--]--> where 和 having 区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#分页查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="分页查询"><!--[--><!--]--> 分页查询 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/database/mysql_base.html#dcl" class="router-link-active router-link-exact-active sidebar-item" aria-label="DCL"><!--[--><!--]--> DCL <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/database/mysql_base.html#查询用户" class="router-link-active router-link-exact-active sidebar-item" aria-label="查询用户"><!--[--><!--]--> 查询用户 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#创建用户" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建用户"><!--[--><!--]--> 创建用户 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#修改用户密码" class="router-link-active router-link-exact-active sidebar-item" aria-label="修改用户密码"><!--[--><!--]--> 修改用户密码 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#删除用户" class="router-link-active router-link-exact-active sidebar-item" aria-label="删除用户"><!--[--><!--]--> 删除用户 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#权限控制" class="router-link-active router-link-exact-active sidebar-item" aria-label="权限控制"><!--[--><!--]--> 权限控制 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#查询权限" class="router-link-active router-link-exact-active sidebar-item" aria-label="查询权限"><!--[--><!--]--> 查询权限 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#授予权限" class="router-link-active router-link-exact-active sidebar-item" aria-label="授予权限"><!--[--><!--]--> 授予权限 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#撤销权限" class="router-link-active router-link-exact-active sidebar-item" aria-label="撤销权限"><!--[--><!--]--> 撤销权限 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/database/mysql_base.html#约束" class="router-link-active router-link-exact-active sidebar-item" aria-label="约束"><!--[--><!--]--> 约束 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/database/mysql_base.html#非空约束-关键字是-not-null" class="router-link-active router-link-exact-active sidebar-item" aria-label="非空约束： 关键字是 NOT NULL"><!--[--><!--]--> 非空约束： 关键字是 NOT NULL <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#唯一约束-关键字是-unique" class="router-link-active router-link-exact-active sidebar-item" aria-label="唯一约束：关键字是  UNIQUE"><!--[--><!--]--> 唯一约束：关键字是  UNIQUE <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#主键约束-关键字是-primary-key" class="router-link-active router-link-exact-active sidebar-item" aria-label="主键约束： 关键字是  PRIMARY KEY"><!--[--><!--]--> 主键约束： 关键字是  PRIMARY KEY <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#检查约束-关键字是-check" class="router-link-active router-link-exact-active sidebar-item" aria-label="检查约束： 关键字是  CHECK"><!--[--><!--]--> 检查约束： 关键字是  CHECK <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#默认约束-关键字是-default" class="router-link-active router-link-exact-active sidebar-item" aria-label="默认约束： 关键字是   DEFAULT"><!--[--><!--]--> 默认约束： 关键字是   DEFAULT <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#外键约束-关键字是-foreign-key" class="router-link-active router-link-exact-active sidebar-item" aria-label="外键约束： 关键字是  FOREIGN KEY"><!--[--><!--]--> 外键约束： 关键字是  FOREIGN KEY <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/database/mysql_base.html#数据库设计" class="router-link-active router-link-exact-active sidebar-item" aria-label="数据库设计"><!--[--><!--]--> 数据库设计 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/database/mysql_base.html#表关系-一对多" class="router-link-active router-link-exact-active sidebar-item" aria-label="表关系(一对多)"><!--[--><!--]--> 表关系(一对多) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#表关系-多对多" class="router-link-active router-link-exact-active sidebar-item" aria-label="表关系(多对多)"><!--[--><!--]--> 表关系(多对多) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#表关系-一对一" class="router-link-active router-link-exact-active sidebar-item" aria-label="表关系(一对一)"><!--[--><!--]--> 表关系(一对一) <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/database/mysql_base.html#多表查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="多表查询"><!--[--><!--]--> 多表查询 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/database/mysql_base.html#内连接查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="内连接查询"><!--[--><!--]--> 内连接查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#外连接查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="外连接查询"><!--[--><!--]--> 外连接查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#子查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="子查询"><!--[--><!--]--> 子查询 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/database/mysql_base.html#事务" class="router-link-active router-link-exact-active sidebar-item" aria-label="事务"><!--[--><!--]--> 事务 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/database/mysql_base.html#语法" class="router-link-active router-link-exact-active sidebar-item" aria-label="语法"><!--[--><!--]--> 语法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#事务的四大特征" class="router-link-active router-link-exact-active sidebar-item" aria-label="事务的四大特征"><!--[--><!--]--> 事务的四大特征 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#事务并发问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="事务并发问题"><!--[--><!--]--> 事务并发问题 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#隔离级别" class="router-link-active router-link-exact-active sidebar-item" aria-label="隔离级别"><!--[--><!--]--> 隔离级别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/database/mysql_base.html#常见数据库的默认隔离级别" class="router-link-active router-link-exact-active sidebar-item" aria-label="常见数据库的默认隔离级别"><!--[--><!--]--> 常见数据库的默认隔离级别 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/database/mysql_high.html" class="sidebar-item" aria-label="Mysql高级"><!--[--><!--]--> Mysql高级 <!--[--><!--]--></a><!----></li><li><a href="/database/mysql_advance.html" class="sidebar-item" aria-label="Mysql进阶"><!--[--><!--]--> Mysql进阶 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="mysql基础" tabindex="-1"><a class="header-anchor" href="#mysql基础" aria-hidden="true">#</a> Mysql基础</h1><h2 id="关系型数据库" tabindex="-1"><a class="header-anchor" href="#关系型数据库" aria-hidden="true">#</a> 关系型数据库</h2><p>关系型数据库是建立在关系模型基础上的数据库，简单说，关系型数据库是由多张能互相连接的 二维表 组成的数据库</p><p>关系型数据库的优点：</p><ul><li>都是使用表结构，格式一致，易于维护。</li><li>使用通用的 SQL 语言操作，使用方便，可用于复杂查询。 <ul><li>关系型数据库都可以通过SQL进行操作，所以使用方便。</li><li>复杂查询。现在需要查询001号订单数据，我们可以看到该订单是1号客户的订单，而1号订单是李聪这个客户。以后也可以在一张表中进行统计分析等操作。</li></ul></li><li>数据存储在磁盘中，安全。</li></ul><h2 id="sql" tabindex="-1"><a class="header-anchor" href="#sql" aria-hidden="true">#</a> SQL</h2><h3 id="sql简介" tabindex="-1"><a class="header-anchor" href="#sql简介" aria-hidden="true">#</a> SQL简介</h3><ul><li>英文：Structured Query Language，简称 SQL</li><li>结构化查询语言，一门操作关系型数据库的编程语言</li><li>定义操作所有关系型数据库的统一标准</li><li>对于同一个需求，每一种数据库操作的方式可能会存在一些不一样的地方，我们称为“方言”</li></ul><h3 id="通用语法" tabindex="-1"><a class="header-anchor" href="#通用语法" aria-hidden="true">#</a> 通用语法</h3><p>SQL 语句可以单行或多行书写，以分号结尾。<br> MySQL 数据库的 SQL 语句不区分大小写，关键字建议使用大写。</p><p>注释</p><ul><li>单行注释: -- 注释内容 或 #注释内容(MySQL 特有)</li><li>多行注释: /* 注释 */</li></ul><h3 id="sql分类" tabindex="-1"><a class="header-anchor" href="#sql分类" aria-hidden="true">#</a> SQL分类</h3><ul><li>DDL(Data Definition Language) ： 数据定义语言，用来定义数据库对象：数据库，表，列等</li></ul><p>DDL简单理解就是用来操作数据库，表等</p><ul><li>DML(Data Manipulation Language) 数据操作语言，用来对数据库中表的数据进行增删改</li></ul><p>DML简单理解就对表中数据进行增删改</p><ul><li>DQL(Data Query Language) 数据查询语言，用来查询数据库中表的记录(数据)</li></ul><p>DQL简单理解就是对数据进行查询操作。从数据库表中查询到我们想要的数据。</p><ul><li><p>DCL(Data Control Language) 数据控制语言，用来定义数据库的访问权限和安全级别，及创建用户</p><p>DML简单理解就是对数据库进行权限控制。比如我让某一个数据库表只能让某一个用户进行操作等。</p></li></ul><h2 id="ddl" tabindex="-1"><a class="header-anchor" href="#ddl" aria-hidden="true">#</a> DDL</h2><p>数据定义语言，用来定义数据库对象：数据库，表，列等<br> DDL简单理解就是用来操作数据库，表等</p><h3 id="查询所有的数据库" tabindex="-1"><a class="header-anchor" href="#查询所有的数据库" aria-hidden="true">#</a> 查询所有的数据库</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">DATABASES</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="创建数据库" tabindex="-1"><a class="header-anchor" href="#创建数据库" aria-hidden="true">#</a> 创建数据库</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> 数据库名称<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>创建数据库(判断，如果不存在则创建)</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> 数据库名称<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="删除数据库" tabindex="-1"><a class="header-anchor" href="#删除数据库" aria-hidden="true">#</a> 删除数据库</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> 数据库名称<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>删除数据库(判断，如果存在则删除)</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> 数据库名称<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="使用数据库" tabindex="-1"><a class="header-anchor" href="#使用数据库" aria-hidden="true">#</a> 使用数据库</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">USE</span> 数据库名称<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="查看当前使用的数据库" tabindex="-1"><a class="header-anchor" href="#查看当前使用的数据库" aria-hidden="true">#</a> 查看当前使用的数据库</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="查询当前数据库下所有表名称" tabindex="-1"><a class="header-anchor" href="#查询当前数据库下所有表名称" aria-hidden="true">#</a> 查询当前数据库下所有表名称</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">TABLES</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="查询表结构" tabindex="-1"><a class="header-anchor" href="#查询表结构" aria-hidden="true">#</a> 查询表结构</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DESC</span> 表名称<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="创建表" tabindex="-1"><a class="header-anchor" href="#创建表" aria-hidden="true">#</a> 创建表</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名 <span class="token punctuation">(</span>
	字段名<span class="token number">1</span>  数据类型<span class="token number">1</span><span class="token punctuation">,</span>
	字段名<span class="token number">2</span>  数据类型<span class="token number">2</span><span class="token punctuation">,</span>
	…
	字段名n  数据类型n
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：最后一行末尾，不能加逗号</p><h3 id="数据类型" tabindex="-1"><a class="header-anchor" href="#数据类型" aria-hidden="true">#</a> 数据类型</h3><p>MySQL 支持多种类型，可以分为三类：</p><ul><li>数值</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">tinyint</span> : 小整数型，占一个字节
<span class="token keyword">int</span>	： 大整数类型，占四个字节
	eg ： age <span class="token keyword">int</span>
<span class="token keyword">double</span> ： 浮点类型
	使用格式： 字段名 <span class="token keyword">double</span><span class="token punctuation">(</span>总长度<span class="token punctuation">,</span>小数点后保留的位数<span class="token punctuation">)</span>
	eg ： score <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>   
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>日期</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">date</span> ： 日期值。只包含年月日
	eg ：birthday <span class="token keyword">date</span> ： 
<span class="token keyword">datetime</span> ： 混合日期和时间值。包含年月日时分秒

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>字符串</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">char</span> ： 定长字符串。
	优点：存储性能高
	缺点：浪费空间
	eg ： name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>  如果存储的数据字符个数不足<span class="token number">10</span>个，也会占<span class="token number">10</span>个的空间
<span class="token keyword">varchar</span> ： 变长字符串。
	优点：节约空间
	缺点：存储性能底
	eg ： name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> 如果存储的数据字符个数不足<span class="token number">10</span>个，那就数据字符个数是几就占几个的空间


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除表" tabindex="-1"><a class="header-anchor" href="#删除表" aria-hidden="true">#</a> 删除表</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>删除表时判断表是否存在</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="修改表名" tabindex="-1"><a class="header-anchor" href="#修改表名" aria-hidden="true">#</a> 修改表名</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> 新的表名<span class="token punctuation">;</span>

<span class="token comment">-- 将表名student修改为stu</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> student <span class="token keyword">rename</span> <span class="token keyword">to</span> stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="添加一列" tabindex="-1"><a class="header-anchor" href="#添加一列" aria-hidden="true">#</a> 添加一列</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ADD</span> 列名 数据类型<span class="token punctuation">;</span>

<span class="token comment">-- 给stu表添加一列address，该字段类型是varchar(50)</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> stu <span class="token keyword">add</span> address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改数据类型" tabindex="-1"><a class="header-anchor" href="#修改数据类型" aria-hidden="true">#</a> 修改数据类型</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">MODIFY</span> 列名 新数据类型<span class="token punctuation">;</span>

<span class="token comment">-- 将stu表中的address字段的类型改为 char(50)</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> stu <span class="token keyword">modify</span> address <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改列名和数据类型" tabindex="-1"><a class="header-anchor" href="#修改列名和数据类型" aria-hidden="true">#</a> 修改列名和数据类型</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 CHANGE 列名 新列名 新数据类型<span class="token punctuation">;</span>

<span class="token comment">-- 将stu表中的address字段名改为 addr，类型改为varchar(50)</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> stu change address addr <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除列" tabindex="-1"><a class="header-anchor" href="#删除列" aria-hidden="true">#</a> 删除列</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">DROP</span> 列名<span class="token punctuation">;</span>

<span class="token comment">-- 将stu表中的addr字段 删除</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> stu <span class="token keyword">drop</span> addr<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dml" tabindex="-1"><a class="header-anchor" href="#dml" aria-hidden="true">#</a> DML</h2><p>DML主要是对数据进行增（insert）删（delete）改（update）操作。</p><h3 id="给指定列添加数据" tabindex="-1"><a class="header-anchor" href="#给指定列添加数据" aria-hidden="true">#</a> 给指定列添加数据</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名<span class="token punctuation">(</span>列名<span class="token number">1</span><span class="token punctuation">,</span>列名<span class="token number">2</span><span class="token punctuation">,</span>…<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span>值<span class="token number">2</span><span class="token punctuation">,</span>…<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="给全部列添加数据" tabindex="-1"><a class="header-anchor" href="#给全部列添加数据" aria-hidden="true">#</a> 给全部列添加数据</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名 <span class="token keyword">VALUES</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span>值<span class="token number">2</span><span class="token punctuation">,</span>…<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="批量添加数据" tabindex="-1"><a class="header-anchor" href="#批量添加数据" aria-hidden="true">#</a> 批量添加数据</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名<span class="token punctuation">(</span>列名<span class="token number">1</span><span class="token punctuation">,</span>列名<span class="token number">2</span><span class="token punctuation">,</span>…<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span>值<span class="token number">2</span><span class="token punctuation">,</span>…<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span>值<span class="token number">2</span><span class="token punctuation">,</span>…<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span>值<span class="token number">2</span><span class="token punctuation">,</span>…<span class="token punctuation">)</span>…<span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名 <span class="token keyword">VALUES</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span>值<span class="token number">2</span><span class="token punctuation">,</span>…<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span>值<span class="token number">2</span><span class="token punctuation">,</span>…<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span>值<span class="token number">2</span><span class="token punctuation">,</span>…<span class="token punctuation">)</span>…<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改表数据" tabindex="-1"><a class="header-anchor" href="#修改表数据" aria-hidden="true">#</a> 修改表数据</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> 表名 <span class="token keyword">SET</span> 列名<span class="token number">1</span><span class="token operator">=</span>值<span class="token number">1</span><span class="token punctuation">,</span>列名<span class="token number">2</span><span class="token operator">=</span>值<span class="token number">2</span><span class="token punctuation">,</span>… <span class="token punctuation">[</span><span class="token keyword">WHERE</span> 条件<span class="token punctuation">]</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="删除数据" tabindex="-1"><a class="header-anchor" href="#删除数据" aria-hidden="true">#</a> 删除数据</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> 表名 <span class="token punctuation">[</span><span class="token keyword">WHERE</span> 条件<span class="token punctuation">]</span> <span class="token punctuation">;</span>    

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dql" tabindex="-1"><a class="header-anchor" href="#dql" aria-hidden="true">#</a> DQL</h2><p>数据查询语言，用来查询数据库中表的记录(数据)</p><p>完整语法</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 
   字段列表
<span class="token keyword">FROM</span> 
   表名列表 
<span class="token keyword">WHERE</span> 
   条件列表
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
   分组字段
<span class="token keyword">HAVING</span>
   分组后条件
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
   排序字段
<span class="token keyword">LIMIT</span>
   分页限定

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查询多个字段" tabindex="-1"><a class="header-anchor" href="#查询多个字段" aria-hidden="true">#</a> 查询多个字段</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span> <span class="token comment">-- 查询所有数据</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="去除重复记录" tabindex="-1"><a class="header-anchor" href="#去除重复记录" aria-hidden="true">#</a> 去除重复记录</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> 字段列表 <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="起别名" tabindex="-1"><a class="header-anchor" href="#起别名" aria-hidden="true">#</a> 起别名</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">AS</span>: <span class="token keyword">AS</span> 也可以省略
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="条件查询" tabindex="-1"><a class="header-anchor" href="#条件查询" aria-hidden="true">#</a> 条件查询</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表名 <span class="token keyword">WHERE</span> 条件列表<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="模糊查询" tabindex="-1"><a class="header-anchor" href="#模糊查询" aria-hidden="true">#</a> 模糊查询</h3><p>模糊查询使用like关键字，可以使用通配符进行占位:</p><p>（1）_ : 代表单个任意字符</p><p>（2）% : 代表任意个数字符</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>查询姓<span class="token string">&#39;马&#39;</span>的学员信息
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stu <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">&#39;马%&#39;</span><span class="token punctuation">;</span>
查询第二个字是<span class="token string">&#39;花&#39;</span>的学员信息  
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stu <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">&#39;_花%&#39;</span><span class="token punctuation">;</span>
查询名字中包含 <span class="token string">&#39;德&#39;</span> 的学员信息
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stu <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">&#39;%德%&#39;</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="排序查询" tabindex="-1"><a class="header-anchor" href="#排序查询" aria-hidden="true">#</a> 排序查询</h3><p>语法</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表名 <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> 排序字段名<span class="token number">1</span> <span class="token punctuation">[</span>排序方式<span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>排序字段名<span class="token number">2</span> <span class="token punctuation">[</span>排序方式<span class="token number">2</span><span class="token punctuation">]</span> …<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>上述语句中的排序方式有两种，分别是：</p><ul><li>ASC ： 升序排列 <strong>（默认值）</strong></li><li>DESC ： 降序排列</li></ul><blockquote><p>注意：如果有多个排序条件，当前边的条件值一样时，才会根据第二条件进行排序</p></blockquote><h3 id="聚合函数" tabindex="-1"><a class="header-anchor" href="#聚合函数" aria-hidden="true">#</a> 聚合函数</h3><p>聚合函数分类<br><img src="/images/database/mysql/1.png" alt="mysql"></p><p>聚合函数语法</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 聚合函数名<span class="token punctuation">(</span>列名<span class="token punctuation">)</span> <span class="token keyword">FROM</span> 表<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意：null 值不参与所有聚合函数运算</p><p>统计班级一共有多少个学生</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> stu<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>english<span class="token punctuation">)</span> <span class="token keyword">from</span> stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>上面语句根据某个字段进行统计，如果该字段某一行的值为null的话，将不会被统计。所以可以在count(<em>) 来实现。</em> 表示所有字段数据，一行中也不可能所有的数据都为null，所以建议使用 count(*)</p><p>查询数学成绩的最高分</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span> <span class="token keyword">from</span> stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询数学成绩的最低分</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span> <span class="token keyword">from</span> stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询数学成绩的总分</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span> <span class="token keyword">from</span> stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询数学成绩的平均分</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span> <span class="token keyword">from</span> stu<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>查询英语成绩的最低分</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>english<span class="token punctuation">)</span> <span class="token keyword">from</span> stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="分组查询" tabindex="-1"><a class="header-anchor" href="#分组查询" aria-hidden="true">#</a> 分组查询</h3><p>语法</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表名 <span class="token punctuation">[</span><span class="token keyword">WHERE</span> 分组前条件限定<span class="token punctuation">]</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> 分组字段名 <span class="token punctuation">[</span><span class="token keyword">HAVING</span> 分组后条件过滤<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意：分组之后，查询的字段为聚合函数和分组字段，查询其他字段无任何意义</p><p>查询男同学和女同学各自的数学平均分</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> sex<span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span> <span class="token keyword">from</span> stu <span class="token keyword">group</span> <span class="token keyword">by</span> sex<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意：分组之后，查询的字段为聚合函数和分组字段，查询其他字段无任何意义</p><p>查询男同学和女同学各自的数学平均分，以及各自人数，要求：分数低于70分的不参与分组，分组之后人数大于2个的</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> sex<span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> stu <span class="token keyword">where</span> math <span class="token operator">&gt;</span> <span class="token number">70</span> <span class="token keyword">group</span> <span class="token keyword">by</span> sex <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>  <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="where-和-having-区别" tabindex="-1"><a class="header-anchor" href="#where-和-having-区别" aria-hidden="true">#</a> where 和 having 区别</h3><ul><li>执行时机不一样：where 是分组之前进行限定，不满足where条件，则不参与分组，而having是分组之后对结果进行过滤。</li><li>可判断的条件不一样：where 不能对聚合函数进行判断，having 可以。</li></ul><h3 id="分页查询" tabindex="-1"><a class="header-anchor" href="#分页查询" aria-hidden="true">#</a> 分页查询</h3><p>SELECT 字段列表 FROM 表名 LIMIT 起始索引 , 查询条目数;</p><p>从0开始查询，查询3条数据</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stu <span class="token keyword">limit</span> <span class="token number">0</span> <span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>起始索引 = (当前页码 - 1) * 每页显示的条数</p><h2 id="dcl" tabindex="-1"><a class="header-anchor" href="#dcl" aria-hidden="true">#</a> DCL</h2><p>DCL英文全称是Data Control Language(数据控制语言)，用来管理数据库用户、控制数据的访问权限。</p><h3 id="查询用户" tabindex="-1"><a class="header-anchor" href="#查询用户" aria-hidden="true">#</a> 查询用户</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="创建用户" tabindex="-1"><a class="header-anchor" href="#创建用户" aria-hidden="true">#</a> 创建用户</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;密码&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">&#39;myuser&#39;</span><span class="token variable">@&#39;localhost&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;123456&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：当我们希望任意主机都能访问MySQL，只需要把主机名的值写为%即可。</p><h3 id="修改用户密码" tabindex="-1"><a class="header-anchor" href="#修改用户密码" aria-hidden="true">#</a> 修改用户密码</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span> IDENTIFIED <span class="token keyword">WITH</span> mysql_native_password <span class="token keyword">BY</span> <span class="token string">&#39;新密码&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="删除用户" tabindex="-1"><a class="header-anchor" href="#删除用户" aria-hidden="true">#</a> 删除用户</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">USER</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">USER</span> <span class="token string">&#39;myuser&#39;</span><span class="token variable">@&#39;localhost&#39;</span><span class="token punctuation">;</span>	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="权限控制" tabindex="-1"><a class="header-anchor" href="#权限控制" aria-hidden="true">#</a> 权限控制</h3><img src="/images/database/mysql/1.png" alt="mysql"><p>注意：</p><ul><li>多个权限之间，使用逗号分隔；</li><li>授权时，数据库名和表名可以使用*进行通配，代表所有。</li></ul><h3 id="查询权限" tabindex="-1"><a class="header-anchor" href="#查询权限" aria-hidden="true">#</a> 查询权限</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="授予权限" tabindex="-1"><a class="header-anchor" href="#授予权限" aria-hidden="true">#</a> 授予权限</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">GRANT</span> 权限列表 <span class="token keyword">ON</span> 数据库名<span class="token punctuation">.</span>表名 <span class="token keyword">TO</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="撤销权限" tabindex="-1"><a class="header-anchor" href="#撤销权限" aria-hidden="true">#</a> 撤销权限</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">REVOKE</span> 权限列表 <span class="token keyword">ON</span> 数据库名<span class="token punctuation">.</span>表名 <span class="token keyword">FROM</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="约束" tabindex="-1"><a class="header-anchor" href="#约束" aria-hidden="true">#</a> 约束</h2><h3 id="非空约束-关键字是-not-null" tabindex="-1"><a class="header-anchor" href="#非空约束-关键字是-not-null" aria-hidden="true">#</a> 非空约束： 关键字是 NOT NULL</h3><p>保证列中所有的数据不能有null值。</p><p>语法</p><ul><li>添加约束</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 创建表时添加非空约束</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">(</span>
   列名 数据类型 <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
   …
<span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">-- 建完表后添加非空约束</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">MODIFY</span> 字段名 数据类型 <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>删除约束</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">MODIFY</span> 字段名 数据类型<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="唯一约束-关键字是-unique" tabindex="-1"><a class="header-anchor" href="#唯一约束-关键字是-unique" aria-hidden="true">#</a> 唯一约束：关键字是 UNIQUE</h3><p>保证列中所有数据各不相同。</p><p>语法</p><ul><li>添加约束</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 创建表时添加唯一约束</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">(</span>
   列名 数据类型 <span class="token keyword">UNIQUE</span> <span class="token punctuation">[</span><span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token comment">-- AUTO_INCREMENT: 当不指定值时自动增长</span>
   …
<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">(</span>
   列名 数据类型<span class="token punctuation">,</span>
   …
   <span class="token punctuation">[</span><span class="token keyword">CONSTRAINT</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>约束名称<span class="token punctuation">]</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">(</span>列名<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> 


<span class="token comment">-- 建完表后添加唯一约束</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">MODIFY</span> 字段名 数据类型 <span class="token keyword">UNIQUE</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>删除约束</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> 字段名<span class="token punctuation">;</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="主键约束-关键字是-primary-key" tabindex="-1"><a class="header-anchor" href="#主键约束-关键字是-primary-key" aria-hidden="true">#</a> 主键约束： 关键字是 PRIMARY KEY</h3><p>主键是一行数据的唯一标识，要求非空且唯一。</p><p>一张表只能有一个主键</p><p>语法</p><ul><li>添加约束</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 创建表时添加主键约束</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">(</span>
   列名 数据类型 <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">[</span><span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   …
<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">(</span>
   列名 数据类型<span class="token punctuation">,</span>
   <span class="token punctuation">[</span><span class="token keyword">CONSTRAINT</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>约束名称<span class="token punctuation">]</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>列名<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">-- 建完表后添加主键约束</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ADD</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>字段名<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>删除约束</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">DROP</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="检查约束-关键字是-check" tabindex="-1"><a class="header-anchor" href="#检查约束-关键字是-check" aria-hidden="true">#</a> 检查约束： 关键字是 CHECK</h3><p>保证列中的值满足某一条件</p><h3 id="默认约束-关键字是-default" tabindex="-1"><a class="header-anchor" href="#默认约束-关键字是-default" aria-hidden="true">#</a> 默认约束： 关键字是 DEFAULT</h3><p>保存数据时，未指定值则采用默认值。</p><p>语法</p><ul><li>添加约束</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 创建表时添加默认约束</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">(</span>
   列名 数据类型 <span class="token keyword">DEFAULT</span> 默认值<span class="token punctuation">,</span>
   …
<span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">-- 建完表后添加默认约束</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ALTER</span> 列名 <span class="token keyword">SET</span> <span class="token keyword">DEFAULT</span> 默认值<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>删除约束</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ALTER</span> 列名 <span class="token keyword">DROP</span> <span class="token keyword">DEFAULT</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="外键约束-关键字是-foreign-key" tabindex="-1"><a class="header-anchor" href="#外键约束-关键字是-foreign-key" aria-hidden="true">#</a> 外键约束： 关键字是 FOREIGN KEY</h3><p>外键用来让两个表的数据之间建立链接，保证数据的一致性和完整性。</p><p>语法</p><ul><li>添加约束</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 创建表时添加外键约束</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">(</span>
   列名 数据类型<span class="token punctuation">,</span>
   …
   <span class="token punctuation">[</span><span class="token keyword">CONSTRAINT</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>外键名称<span class="token punctuation">]</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>外键列名<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> 主表<span class="token punctuation">(</span>主表列名<span class="token punctuation">)</span> 
<span class="token punctuation">)</span><span class="token punctuation">;</span> 


<span class="token comment">-- 建完表后添加外键约束</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> 外键名称 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>外键字段名称<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> 主表名称<span class="token punctuation">(</span>主表列名称<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>删除外键约束</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> 外键名称<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="数据库设计" tabindex="-1"><a class="header-anchor" href="#数据库设计" aria-hidden="true">#</a> 数据库设计</h2><h3 id="表关系-一对多" tabindex="-1"><a class="header-anchor" href="#表关系-一对多" aria-hidden="true">#</a> 表关系(一对多)</h3><ul><li><p>一对多</p><ul><li>如：部门 和 员工</li><li>一个部门对应多个员工，一个员工对应一个部门。</li></ul></li><li><p>实现方式</p><p>==在多的一方建立外键，指向一的一方的主键==</p></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>  <span class="token comment">-- 删除表</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> tb_emp<span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> tb_dept<span class="token punctuation">;</span>

<span class="token comment">-- 部门表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tb_dept<span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
	dep_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	addr <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 员工表 </span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tb_emp<span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
	name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	age <span class="token keyword">int</span><span class="token punctuation">,</span>
	dep_id <span class="token keyword">int</span><span class="token punctuation">,</span>

	<span class="token comment">-- 添加外键 dep_id,关联 dept 表的id主键</span>
	<span class="token keyword">CONSTRAINT</span> fk_emp_dept <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>dep_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> tb_dept<span class="token punctuation">(</span>id<span class="token punctuation">)</span>	
<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="表关系-多对多" tabindex="-1"><a class="header-anchor" href="#表关系-多对多" aria-hidden="true">#</a> 表关系(多对多)</h3><ul><li><p>多对多</p><ul><li>如：商品 和 订单</li><li>一个商品对应多个订单，一个订单包含多个商品</li></ul></li><li><p>实现方式</p><p>==建立第三张中间表，中间表至少包含两个外键，分别关联两方主键==</p></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 删除表</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> tb_order_goods<span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> tb_order<span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> tb_goods<span class="token punctuation">;</span>

<span class="token comment">-- 订单表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tb_order<span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
	payment <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	payment_type <span class="token keyword">TINYINT</span><span class="token punctuation">,</span>
	<span class="token keyword">status</span> <span class="token keyword">TINYINT</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 商品表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tb_goods<span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
	title <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	price <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 订单商品中间表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tb_order_goods<span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
	order_id <span class="token keyword">int</span><span class="token punctuation">,</span>
	goods_id <span class="token keyword">int</span><span class="token punctuation">,</span>
	count <span class="token keyword">int</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 建完表后，添加外键</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> tb_order_goods <span class="token keyword">add</span> <span class="token keyword">CONSTRAINT</span> fk_order_id <span class="token keyword">FOREIGN</span> <span class="token keyword">key</span><span class="token punctuation">(</span>order_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> tb_order<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> tb_order_goods <span class="token keyword">add</span> <span class="token keyword">CONSTRAINT</span> fk_goods_id <span class="token keyword">FOREIGN</span> <span class="token keyword">key</span><span class="token punctuation">(</span>goods_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> tb_goods<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="表关系-一对一" tabindex="-1"><a class="header-anchor" href="#表关系-一对一" aria-hidden="true">#</a> 表关系(一对一)</h3><ul><li><p>一对一</p><ul><li>如：用户 和 用户详情</li><li>一对一关系多用于表拆分，将一个实体中经常使用的字段放一张表，不经常使用的字段放另一张表，用于提升查询性能</li></ul></li><li><p>实现方式</p><p>==在任意一方加入外键，关联另一方主键，并且设置外键为唯一(UNIQUE)==</p></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_user_desc <span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
	city <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	edu <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	income <span class="token keyword">int</span><span class="token punctuation">,</span>
	<span class="token keyword">status</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	des <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> tb_user <span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
	photo <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	nickname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	age <span class="token keyword">int</span><span class="token punctuation">,</span>
	gender <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	desc_id <span class="token keyword">int</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>
	<span class="token comment">-- 添加外键</span>
	<span class="token keyword">CONSTRAINT</span> fk_user_desc <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>desc_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> tb_user_desc<span class="token punctuation">(</span>id<span class="token punctuation">)</span>	
<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="多表查询" tabindex="-1"><a class="header-anchor" href="#多表查询" aria-hidden="true">#</a> 多表查询</h2><ul><li>内连接查询 ：相当于查询AB交集数据</li><li>外连接查询 <ul><li>左外连接查询 ：相当于查询A表所有数据和交集B表数据</li><li>右外连接查询 ： 相当于查询B表所有数据和交集A表部分数据</li></ul></li><li>子查询</li></ul><h3 id="内连接查询" tabindex="-1"><a class="header-anchor" href="#内连接查询" aria-hidden="true">#</a> 内连接查询</h3><ul><li>语法</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 隐式内连接</span>
<span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表<span class="token number">1</span><span class="token punctuation">,</span>表<span class="token number">2</span>… <span class="token keyword">WHERE</span> 条件<span class="token punctuation">;</span> 

<span class="token comment">-- 显示内连接</span>
<span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表<span class="token number">1</span> <span class="token punctuation">[</span><span class="token keyword">INNER</span><span class="token punctuation">]</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 条件<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="外连接查询" tabindex="-1"><a class="header-anchor" href="#外连接查询" aria-hidden="true">#</a> 外连接查询</h3><ul><li>语法</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 左外连接</span>
<span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表<span class="token number">1</span> <span class="token keyword">LEFT</span> <span class="token punctuation">[</span><span class="token keyword">OUTER</span><span class="token punctuation">]</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 条件<span class="token punctuation">;</span>

<span class="token comment">-- 右外连接</span>
<span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表<span class="token number">1</span> <span class="token keyword">RIGHT</span> <span class="token punctuation">[</span><span class="token keyword">OUTER</span><span class="token punctuation">]</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 条件<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="子查询" tabindex="-1"><a class="header-anchor" href="#子查询" aria-hidden="true">#</a> 子查询</h3><p>概念</p><p>查询中嵌套查询，称嵌套查询为子查询。</p><p>子查询根据查询结果不同，作用不同</p><ul><li>子查询语句结果是单行单列，子查询语句作为条件值，使用 = != &gt; &lt; 等进行条件判断</li><li>子查询语句结果是多行单列，子查询语句作为条件值，使用 in 等关键字进行条件判断</li><li>子查询语句结果是多行多列，子查询语句作为虚拟表</li></ul><h2 id="事务" tabindex="-1"><a class="header-anchor" href="#事务" aria-hidden="true">#</a> 事务</h2><p>事务指的是逻辑上的一组操作，组成这组操作的各个单元要么全都成功，要么全都失败。</p><p>事务作用：保证在一个事务中多次SQL操作要么全都成功，要么全都失败</p><h3 id="语法" tabindex="-1"><a class="header-anchor" href="#语法" aria-hidden="true">#</a> 语法</h3><ul><li>开启事务</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
或者  
<span class="token keyword">BEGIN</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>提交事务</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">commit</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>回滚事务</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">rollback</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 开启事务</span>
<span class="token keyword">BEGIN</span><span class="token punctuation">;</span>
<span class="token comment">-- 转账操作</span>
<span class="token comment">-- 1. 查询李四账户金额是否大于500</span>

<span class="token comment">-- 2. 李四账户 -500</span>
<span class="token keyword">UPDATE</span> account <span class="token keyword">set</span> money <span class="token operator">=</span> money <span class="token operator">-</span> <span class="token number">500</span> <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;李四&#39;</span><span class="token punctuation">;</span>

出现异常了<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  <span class="token comment">-- 此处不是注释，在整体执行时会出问题，后面的sql则不执行</span>
<span class="token comment">-- 3. 张三账户 +500</span>
<span class="token keyword">UPDATE</span> account <span class="token keyword">set</span> money <span class="token operator">=</span> money <span class="token operator">+</span> <span class="token number">500</span> <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 提交事务</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>

<span class="token comment">-- 回滚事务</span>
<span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="事务的四大特征" tabindex="-1"><a class="header-anchor" href="#事务的四大特征" aria-hidden="true">#</a> 事务的四大特征</h3><ul><li>原子性（Atomicity）: 事务是不可分割的最小操作单位，要么同时成功，要么同时失败</li><li>一致性（Consistency） :事务完成时，必须使所有的数据都保持一致状态</li><li>隔离性（Isolation） :多个事务之间，操作的可见性</li><li>持久性（Durability） :事务一旦提交或回滚，它对数据库中的数据的改变就是永远</li></ul><p>mysql中事务是自动提交的。</p><p>也就是说我们不添加事务执行sql语句，语句执行完毕会自动的提交事务。</p><h3 id="事务并发问题" tabindex="-1"><a class="header-anchor" href="#事务并发问题" aria-hidden="true">#</a> 事务并发问题</h3><ol><li>脏读：一个事务读到了另一个事务未提交的数据</li><li>不可重复读：一个事务读到了另一个事务已经提交(update)的数据。引发事务中的多次查询结果不 一致</li><li>虚读 /幻读：一个事务读到了另一个事务已经插入(insert)的数据。导致事务中多次查询的结果不一 致</li></ol><h3 id="隔离级别" tabindex="-1"><a class="header-anchor" href="#隔离级别" aria-hidden="true">#</a> 隔离级别</h3><img src="/images/database/mysql/29.png" alt="mysql"><h3 id="常见数据库的默认隔离级别" tabindex="-1"><a class="header-anchor" href="#常见数据库的默认隔离级别" aria-hidden="true">#</a> 常见数据库的默认隔离级别</h3><ul><li>MySql： repeatable read</li><li>Oracle： read committed</li></ul></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/database/mysql_high.html" class="" aria-label="Mysql高级"><!--[--><!--]--> Mysql高级 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-97ed9e93.js" defer></script>
  </body>
</html>
